<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Tu QR de acceso</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  font-family: Arial;
  background:#f2f2f2;
  padding:20px;
}
.card {
  background:#fff;
  padding:20px;
  border-radius:10px;
  max-width:420px;
  margin:auto;
  text-align:center;
  box-shadow:0 2px 10px rgba(0,0,0,.2);
}
img { width:100%; max-width:300px }
small { color:#777 }
</style>
</head>
<body>

<div class="card" id="app">
  <h2>Tu QR de acceso</h2>
</div>

<script>
const code = new URLSearchParams(window.location.search).get("code");

if (!code) {
  document.getElementById("app").innerHTML = "<p>QR inválido</p>";
} else {

  const urlAcceso = `https://registroebdv.netlify.app?code=${code}`;
  const qrImg = `https://api.qrserver.com/v1/create-qr-code/?size=400x400&data=${encodeURIComponent(urlAcceso)}`;

  document.getElementById("app").innerHTML += `
    <img src="${qrImg}">
    <p><small>Preséntalo al ingresar</small></p>
    <p><a href="${urlAcceso}">Probar QR</a></p>
  `;
}
</script>

</body>
</html>